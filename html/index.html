<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>SRS livestream demo</title>
<style>
html, body {
   width: 100%;
   height: 100%;
   margin: 0px;
   overflow: hidden;
}
#player {
   width: 100%;
   height: 100%;
}
</style>
</head>
<body style="margin: 0px; background-color: black; overflow: hidden">
<video id="player" controls="controls"></div>
<script src="https://cdn.jsdelivr.net/hls.js/latest/hls.min.js"></script>
<script language="javascript">
if (Hls.isSupported()) {
  var video = document.getElementById("player");
  var hls = new Hls();
  hls.attachMedia(video);
  hls.on(Hls.Events.MEDIA_ATTACHED, function () {
    hls.loadSource("live/livestream.m3u8");
    hls.on(Hls.Events.MANIFEST_PARSED, function (event, data) {
      video.play();
    });
  });
  hls.on(Hls.Events.ERROR, function (event, data) {
    if(data.fatal) {
      switch(data.type) {
      case Hls.ErrorTypes.NETWORK_ERROR:
        console.log("fatal network error encountered, try to recover");
        hls.startLoad();
        break;
      case Hls.ErrorTypes.MEDIA_ERROR:
        console.log("fatal media error encountered, try to recover");
        hls.recoverMediaError();
        break;
      default:
        hls.destroy();
        break;
      }
    }
  });
}
</script>
<!--
  Push your stream to:
  URL:        rtmp://localhost:1935/live
  Stream key: livestream
-->
</body>
</html>
